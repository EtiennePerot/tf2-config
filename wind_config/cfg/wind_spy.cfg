exec "clear.cfg"
alias "class_reload" "spy_resetdisguisekit; exec wind_spy.cfg"

// Preferences:
	// Autodisguise/syncweapon:
		alias "pref_spy_autodisguise_true" "exec spy/autodisguise_true.cfg"
		alias "pref_spy_autodisguise_false" "exec spy/autodisguise_false.cfg"
		pref_spy_autodisguise
	// Weapon lock:
		alias "pref_spy_weaponlock_13" "exec spy/weaponlock_13.cfg"
		alias "pref_spy_weaponlock_123" "exec spy/weaponlock_123.cfg"
		alias "pref_spy_weaponlock_none" "exec spy/weaponlock_none.cfg"
		pref_spy_weaponlock
	// Disguise kit:
		alias "pref_spy_disguisekit_mini" "exec spy/disguisekit_mini.cfg"
		alias "pref_spy_disguisekit_full" "exec spy/disguisekit_full.cfg"
		alias "pref_spy_disguisekit_none" "exec spy/disguisekit_none.cfg"
		pref_spy_disguisekit
	// Sap/Stab-n-sap bind:
		alias "pref_spy_mouse3_sap" "exec spy/mouse3_sap.cfg"
		alias "pref_spy_mouse3_stabsap" "exec spy/mouse3_stabsap.cfg"
		pref_spy_mouse3
	// Disguise sounds:
		alias "pref_spy_disguisesound_voice" "exec spy/disguisesound_voice.cfg"
		alias "pref_spy_disguisesound_normal" "exec spy/disguisesound_normal.cfg"
		alias "pref_spy_disguisesound_off" "exec spy/disguisesound_off.cfg"
		pref_spy_disguisesound
	// "B" key behavior:
		alias "pref_spy_b_random" "alias spy_b spy_randomdisguise"
		alias "pref_spy_b_random_ally" "alias spy_b spy_randomdisguiseally"
		alias "pref_spy_b_last" "alias spy_b lastdisguise"
		alias "pref_spy_b_friendly_pyro" "alias spy_b spy_disguise_pyro_ally"
		pref_spy_b
	// "Shift+B" key behavior:
		alias "pref_spy_sb_random_ally" "alias spy_shiftb spy_randomdisguiseally"
		alias "pref_spy_sb_random" "alias spy_shiftb spy_randomdisguise"
		alias "pref_spy_sb_last" "alias spy_shiftb lastdisguise"
		alias "pref_spy_sb_friendly_pyro" "alias spy_shiftb spy_disguise_pyro_ally"
		pref_spy_sb

// Disguise selection:
	// Individual disguises:
		// Quiet mode:
			// Enemy team:
				alias "spy_disguiseq_scout_enemy" "disguise 1 -1; spy_disguise_reset"
				alias "spy_disguiseq_soldier_enemy" "disguise 3 -1; spy_disguise_reset"
				alias "spy_disguiseq_pyro_enemy" "disguise 7 -1; spy_disguise_reset"
				alias "spy_disguiseq_demoman_enemy" "disguise 4 -1; spy_disguise_reset"
				alias "spy_disguiseq_heavy_enemy" "disguise 6 -1; spy_disguise_reset"
				alias "spy_disguiseq_engineer_enemy" "disguise 9 -1; spy_disguise_reset"
				alias "spy_disguiseq_medic_enemy" "disguise 5 -1; spy_disguise_reset"
				alias "spy_disguiseq_sniper_enemy" "disguise 2 -1; spy_disguise_reset"
				alias "spy_disguiseq_spy_enemy" "disguise 8 -1; spy_disguise_reset"
			// Ally team:
				alias "spy_disguiseq_scout_ally" "disguise 1 -2; spy_disguise_reset"
				alias "spy_disguiseq_soldier_ally" "disguise 3 -2; spy_disguise_reset"
				alias "spy_disguiseq_pyro_ally" "disguise 7 -2; spy_disguise_reset"
				alias "spy_disguiseq_demoman_ally" "disguise 4 -2; spy_disguise_reset"
				alias "spy_disguiseq_heavy_ally" "disguise 6 -2; spy_disguise_reset"
				alias "spy_disguiseq_engineer_ally" "disguise 9 -2; spy_disguise_reset"
				alias "spy_disguiseq_medic_ally" "disguise 5 -2; spy_disguise_reset"
				alias "spy_disguiseq_sniper_ally" "disguise 2 -2; spy_disguise_reset"
				alias "spy_disguiseq_spy_ally" "disguise 8 -2; spy_disguise_reset"
		// Noisy mode:
			// Enemy team:
				alias "spy_disguise_scout_enemy" "spy_disguisesound_scoutenemy; spy_disguiseq_scout_enemy"
				alias "spy_disguise_soldier_enemy" "spy_disguisesound_soldierenemy; spy_disguiseq_soldier_enemy"
				alias "spy_disguise_pyro_enemy" "spy_disguisesound_pyroenemy; spy_disguiseq_pyro_enemy"
				alias "spy_disguise_demoman_enemy" "spy_disguisesound_demomanenemy; spy_disguiseq_demoman_enemy"
				alias "spy_disguise_heavy_enemy" "spy_disguisesound_heavyenemy; spy_disguiseq_heavy_enemy"
				alias "spy_disguise_engineer_enemy" "spy_disguisesound_engineerenemy; spy_disguiseq_engineer_enemy"
				alias "spy_disguise_medic_enemy" "spy_disguisesound_medicenemy; spy_disguiseq_medic_enemy"
				alias "spy_disguise_sniper_enemy" "spy_disguisesound_sniperenemy; spy_disguiseq_sniper_enemy"
				alias "spy_disguise_spy_enemy" "spy_disguisesound_spyenemy; spy_disguiseq_spy_enemy"
			// Ally team:
				alias "spy_disguise_scout_ally" "spy_disguisesound_scoutally; spy_disguiseq_scout_ally"
				alias "spy_disguise_soldier_ally" "spy_disguisesound_soldierally; spy_disguiseq_soldier_ally"
				alias "spy_disguise_pyro_ally" "spy_disguisesound_pyroally; spy_disguiseq_pyro_ally"
				alias "spy_disguise_demoman_ally" "spy_disguisesound_demomanally; spy_disguiseq_demoman_ally"
				alias "spy_disguise_heavy_ally" "spy_disguisesound_heavyally; spy_disguiseq_heavy_ally"
				alias "spy_disguise_engineer_ally" "spy_disguisesound_engineerally; spy_disguiseq_engineer_ally"
				alias "spy_disguise_medic_ally" "spy_disguisesound_medically; spy_disguiseq_medic_ally"
				alias "spy_disguise_sniper_ally" "spy_disguisesound_sniperally; spy_disguiseq_sniper_ally"
				alias "spy_disguise_spy_ally" "spy_disguisesound_spyally; spy_disguiseq_spy_ally"
	// Disguise team selection:
		// Enemy team:
			// Quiet mode:
				alias "spy_disguiseq_enemy_1" "alias spy_disguiseq_scout spy_disguiseq_scout_enemy; alias spy_disguiseq_soldier spy_disguiseq_soldier_enemy; alias spy_disguiseq_pyro spy_disguiseq_pyro_enemy; alias spy_disguiseq_demoman spy_disguiseq_demoman_enemy; alias spy_disguiseq_heavy spy_disguiseq_heavy_enemy"
				alias "spy_disguiseq_enemy_2" "alias spy_disguiseq_engineer spy_disguiseq_engineer_enemy; alias spy_disguiseq_medic spy_disguiseq_medic_enemy; alias spy_disguiseq_sniper spy_disguiseq_sniper_enemy; alias spy_disguiseq_spy spy_disguiseq_spy_enemy"
				alias "spy_disguiseq_enemy" "spy_disguiseq_enemy_1; spy_disguiseq_enemy_2"
			// Noisy mode:
				alias "spy_disguises_enemy_1" "alias spy_disguise_scout spy_disguise_scout_enemy; alias spy_disguise_soldier spy_disguise_soldier_enemy; alias spy_disguise_pyro spy_disguise_pyro_enemy; alias spy_disguise_demoman spy_disguise_demoman_enemy; alias spy_disguise_heavy spy_disguise_heavy_enemy"
				alias "spy_disguises_enemy_2" "alias spy_disguise_engineer spy_disguise_engineer_enemy; alias spy_disguise_medic spy_disguise_medic_enemy; alias spy_disguise_sniper spy_disguise_sniper_enemy; alias spy_disguise_spy spy_disguise_spy_enemy"
				alias "spy_disguises_enemy" "spy_disguises_enemy_1; spy_disguises_enemy_2"
			alias "spy_disguise_enemy" "spy_disguiseq_enemy; spy_disguises_enemy"
		// Ally team:
			// Quiet mode:
				alias "spy_disguiseq_ally_1" "alias spy_disguiseq_scout spy_disguiseq_scout_ally; alias spy_disguiseq_soldier spy_disguiseq_soldier_ally; alias spy_disguiseq_pyro spy_disguiseq_pyro_ally; alias spy_disguiseq_demoman spy_disguiseq_demoman_ally; alias spy_disguiseq_heavy spy_disguiseq_heavy_ally"
				alias "spy_disguiseq_ally_2" "alias spy_disguiseq_engineer spy_disguiseq_engineer_ally; alias spy_disguiseq_medic spy_disguiseq_medic_ally; alias spy_disguiseq_sniper spy_disguiseq_sniper_ally; alias spy_disguiseq_spy spy_disguiseq_spy_ally"
				alias "spy_disguiseq_ally" "spy_disguiseq_ally_1; spy_disguiseq_ally_2"
			// Noisy mode:
				alias "spy_disguises_ally_1" "alias spy_disguise_scout spy_disguise_scout_ally; alias spy_disguise_soldier spy_disguise_soldier_ally; alias spy_disguise_pyro spy_disguise_pyro_ally; alias spy_disguise_demoman spy_disguise_demoman_ally; alias spy_disguise_heavy spy_disguise_heavy_ally"
				alias "spy_disguises_ally_2" "alias spy_disguise_engineer spy_disguise_engineer_ally; alias spy_disguise_medic spy_disguise_medic_ally; alias spy_disguise_sniper spy_disguise_sniper_ally; alias spy_disguise_spy spy_disguise_spy_ally"
				alias "spy_disguises_ally" "spy_disguises_ally_1; spy_disguises_ally_2"
			alias "spy_disguise_ally" "spy_disguiseq_ally; spy_disguises_ally"
	alias "spy_disguise_reset" "spy_disguise_enemy; spy_resetdisguisekit"
	alias "spy_disguiseq_drop" "spy_disguiseq_spy_ally"
	alias "spy_disguise_drop" "spy_disguise_spy_ally"
	alias "spy_disguise_cancel" "spy_disguise_reset"
	alias "spy_slot1_1" "spy_disguise_scout"
	alias "spy_slot1_2" "spy_disguise_soldier"
	alias "spy_slot1_3" "spy_disguise_pyro"
	alias "spy_slot2_1" "spy_disguise_demoman"
	alias "spy_slot2_2" "spy_disguise_heavy"
	alias "spy_slot2_3" "spy_disguise_engineer"
	alias "spy_slot3_1" "spy_disguise_medic"
	alias "spy_slot3_2" "spy_disguise_sniper"
	alias "spy_slot3_3" "spy_disguise_spy"
	alias "a_slot1" "spy_slot1"
	alias "a_slot2" "spy_slot2"
	alias "a_slot3" "spy_slot3"
	alias "a_slot4" "spy_slot4"
	alias "a_slot5" "spy_slot5"
	alias "a_slot6" "spy_slot6"
	alias "a_slot7" "spy_slot7"
	alias "a_slot8" "spy_slot8"
	alias "a_slot9" "spy_slot9"
	alias "a_slot10" "spy_slot10"
	spy_disguise_reset // Set correct state
	// Enemy random disguise:
		alias "spy_randomdisguise_1" "spy_disguise_sniper_enemy; alias spy_randomdisguise spy_randomdisguise_2; alias spy_randomdisguiseq spy_randomdisguiseq_2"
		alias "spy_randomdisguise_2" "spy_disguise_engineer_enemy; alias spy_randomdisguise spy_randomdisguise_3; alias spy_randomdisguiseq spy_randomdisguiseq_3"
		alias "spy_randomdisguise_3" "spy_disguise_pyro_enemy; alias spy_randomdisguise spy_randomdisguise_4; alias spy_randomdisguiseq spy_randomdisguiseq_4"
		alias "spy_randomdisguise_4" "spy_disguise_demoman_enemy; alias spy_randomdisguise spy_randomdisguise_1; alias spy_randomdisguiseq spy_randomdisguiseq_1"
		alias "spy_randomdisguiseq_1" "spy_disguiseq_sniper_enemy; alias spy_randomdisguise spy_randomdisguise_2; alias spy_randomdisguiseq spy_randomdisguiseq_2"
		alias "spy_randomdisguiseq_2" "spy_disguiseq_engineer_enemy; alias spy_randomdisguise spy_randomdisguise_3; alias spy_randomdisguiseq spy_randomdisguiseq_3"
		alias "spy_randomdisguiseq_3" "spy_disguiseq_pyro_enemy; alias spy_randomdisguise spy_randomdisguise_4; alias spy_randomdisguiseq spy_randomdisguiseq_4"
		alias "spy_randomdisguiseq_4" "spy_disguiseq_demoman_enemy; alias spy_randomdisguise spy_randomdisguise_1; alias spy_randomdisguiseq spy_randomdisguiseq_1"
		alias "spy_randomdisguise" "spy_randomdisguise_1"
		alias "spy_randomdisguiseq" "spy_randomdisguiseq_1"
	// Ally random disguise:
		alias "spy_randomdisguiseally_1" "spy_disguise_sniper_ally; alias spy_randomdisguiseally spy_randomdisguiseally_2; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_2"
		alias "spy_randomdisguiseally_2" "spy_disguise_soldier_ally; alias spy_randomdisguiseally spy_randomdisguiseally_3; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_3"
		alias "spy_randomdisguiseally_3" "spy_disguise_pyro_ally; alias spy_randomdisguiseally spy_randomdisguiseally_4; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_4"
		alias "spy_randomdisguiseally_4" "spy_disguise_heavy_ally; alias spy_randomdisguiseally spy_randomdisguiseally_5; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_5"
		alias "spy_randomdisguiseally_5" "spy_disguise_demoman_ally; alias spy_randomdisguiseally spy_randomdisguiseally_1; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_1"
		alias "spy_randomdisguiseallyq_1" "spy_disguiseq_sniper_ally; alias spy_randomdisguiseally spy_randomdisguiseally_2; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_2"
		alias "spy_randomdisguiseallyq_2" "spy_disguiseq_soldier_ally; alias spy_randomdisguiseally spy_randomdisguiseally_3; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_3"
		alias "spy_randomdisguiseallyq_3" "spy_disguiseq_pyro_ally; alias spy_randomdisguiseally spy_randomdisguiseally_4; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_4"
		alias "spy_randomdisguiseallyq_4" "spy_disguiseq_heavy_ally; alias spy_randomdisguiseally spy_randomdisguiseally_5; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_5"
		alias "spy_randomdisguiseallyq_5" "spy_disguiseq_demoman_ally; alias spy_randomdisguiseally spy_randomdisguiseally_1; alias spy_randomdisguiseallyq spy_randomdisguiseallyq_1"
		alias "spy_randomdisguiseally" "spy_randomdisguiseally_1"
		alias "spy_randomdisguiseallyq" "spy_randomdisguiseallyq_1"
// Disable autoreload for spy, because it is annoying and because it is useful to manually reload once disguised:
	cl_autoreload "0"
	alias "+spy_reload" "+reload"
	alias "-spy_reload" "-reload"
	alias "+a_r" "+spy_reload"
	alias "-a_r" "-spy_reload"
// Additional spy controls:
	alias "a_b" "spy_b" // Random disguise on standard "b" key
	alias "a_minus" "disguiseteam" // Change disguise team on standard "-" key
	alias "+a_dropitem" "+spy_dropitem"
	alias "-a_dropitem" "-spy_dropitem"
	alias "spy_syncweapon" "lastdisguise"
	alias "spy_destroysapper" "destroy 3 0"
	alias "spy_disguisekit_on" "echo SpyDisguiseKit; alias spy_dropifnotdisguise "
	alias "spy_disguisekit_off" "echo NoSpyDisguiseKit; alias spy_dropifnotdisguise spy_disguiseq_drop"
	spy_disguisekit_off // Set correct state
	// Special taunt handling to drop disguise:
		alias "+a_taunt" "spy_dropifnotdisguise" // Drop disguise when taunting
		alias "-a_taunt" "taunt" // Taunt on release
		alias "+taunt_slot1" "spy_disguiseq_drop"
		alias "-taunt_slot1" "taunt; spy_w1"
		alias "+taunt_slot2" "spy_disguiseq_drop"
		alias "-taunt_slot2" "taunt; spy_w2"
		alias "+taunt_slot3" "spy_disguiseq_drop"
		alias "-taunt_slot3" "taunt; spy_w3"
		alias "+taunt_slot4" "spy_disguiseq_drop"
		alias "-taunt_slot4" "taunt; spy_w4"
		alias "+taunt_slot5" "spy_disguiseq_drop"
		alias "-taunt_slot5" "taunt; spy_w5"
		alias "+taunt_slot6" "spy_disguiseq_drop"
		alias "-taunt_slot6" "taunt; spy_w6"
		alias "+taunt_slot7" "spy_disguiseq_drop"
		alias "-taunt_slot7" "taunt; spy_w7"
		alias "+taunt_slot8" "spy_disguiseq_drop"
		alias "-taunt_slot8" "taunt; spy_w8"
		alias "+taunt_slot9" "spy_disguiseq_drop"
		alias "-taunt_slot9" "taunt; spy_w9"
		alias "+taunt_slot10" "spy_disguiseq_drop"
		alias "-taunt_slot10" "taunt; spy_w10"
// mouse1/mouse2 get a special alias (to be overridden by prefs):
	alias "+a_attack" "+spy_attack"
	alias "-a_attack" "-spy_attack"
	alias "+spy_mouse2" "+spy_attack2"
	alias "-spy_mouse2" "-spy_attack2"
	alias "+a_attack2" "+spy_mouse2"
	alias "-a_attack2" "-spy_mouse2"
// mouse3 is for sapping/stabbing+sapping:
	alias "+spy_simple_sap" "slot2; +attack; spy_syncweapon"
	alias "-spy_simple_sap" "-attack; lastinv"
	// Shift+mouse3 is the backstab-n-sap sequence (requires sv_allow_wait_command 1):
		alias "+spy_backstab_sap" "slot3; +attack; wait 45; -attack; wait 5; spy_randomdisguise; +spy_simple_sap"
		alias "-spy_backstab_sap" "-spy_simple_sap; slot1" // Switch back to revolver
	alias "+spy_sap" "+spy_simple_sap"
	alias "-spy_sap" "-spy_simple_sap"
	alias "+a_mouse3" "+spy_sap"
	alias "-a_mouse3" "-spy_sap"
// Shift modifier:
	alias "shift_class_on" "alias +spy_sap +spy_mouse3_shifton; alias -spy_sap -spy_mouse3_shifton; spy_disguise_ally; alias +spy_reload a_voicemenu_activatecharge; alias -spy_reload ; alias a_b spy_shiftb; alias spy_disguise_cancel spy_disguise_drop; alias +spy_mouse2 spy_destroysapper; alias -spy_mouse2 "
	alias "shift_class_off" "alias +spy_sap +spy_mouse3_shiftoff; alias -spy_sap -spy_mouse3_shiftoff; spy_disguise_enemy; alias +spy_reload +reload; alias -spy_reload -reload; alias a_b spy_b; alias spy_disguise_cancel spy_disguise_reset; alias +spy_mouse2 +spy_attack2; alias -spy_mouse2 -spy_attack2"
// Alt modifier:
	alias "+spy_altb" "slot4"
	alias "-spy_altb" "taunt"
	alias "alt_class_on" "alias a_b +spy_altb"
	alias "alt_class_off" "alias a_b spy_b"
echo ">> Spy configuration loaded."
exec "finalize.cfg"
